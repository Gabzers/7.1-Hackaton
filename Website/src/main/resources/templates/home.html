<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>StreamFlix - Home</title>
  <!-- Font Awesome Icons -->
  <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
  referrerpolicy="no-referrer"
  />

  <!-- CSS File -->
  <link rel="stylesheet" href="/css/home.css" />
</head>
<body>
  <!-- Popup Modal -->
<div id="questionnaire-modal" class="modal">
  <div class="modal-content">
    <h2>Quick Questionnaire</h2>
    <form id="questionnaire-form" method="post" action="/save-genres">
      <label for="favorite-genres" class="form-label">Select your favorite genres:</label>
      <div id="genre-checkboxes" class="genre-grid">
        <div class="genre-column">
          <label><input type="checkbox" name="genres" value="Action" /> Action</label>
          <label><input type="checkbox" name="genres" value="Adventure" /> Adventure</label>
          <label><input type="checkbox" name="genres" value="Animation" /> Animation</label>
          <label><input type="checkbox" name="genres" value="Biography" /> Biography</label>
          <label><input type="checkbox" name="genres" value="Comedy" /> Comedy</label>
        </div>
        <div class="genre-column">
          <label><input type="checkbox" name="genres" value="Crime" /> Crime</label>
          <label><input type="checkbox" name="genres" value="Documentary" /> Documentary</label>
          <label><input type="checkbox" name="genres" value="Drama" /> Drama</label>
          <label><input type="checkbox" name="genres" value="Family" /> Family</label>
          <label><input type="checkbox" name="genres" value="Fantasy" /> Fantasy</label>
        </div>
        <div class="genre-column">
          <label><input type="checkbox" name="genres" value="Film-Noir" /> Film-Noir</label>
          <label><input type="checkbox" name="genres" value="Game-Show" /> Game-Show</label>
          <label><input type="checkbox" name="genres" value="History" /> History</label>
          <label><input type="checkbox" name="genres" value="Horror" /> Horror</label>
          <label><input type="checkbox" name="genres" value="Music" /> Music</label>
        </div>
        <div class="genre-column">
          <label><input type="checkbox" name="genres" value="Musical" /> Musical</label>
          <label><input type="checkbox" name="genres" value="Mystery" /> Mystery</label>
          <label><input type="checkbox" name="genres" value="News" /> News</label>
          <label><input type="checkbox" name="genres" value="Reality-TV" /> Reality-TV</label>
          <label><input type="checkbox" name="genres" value="Romance" /> Romance</label>
        </div>
        <div class="genre-column">
          <label><input type="checkbox" name="genres" value="Sci-Fi" /> Sci-Fi</label>
          <label><input type="checkbox" name="genres" value="Short" /> Short</label>
          <label><input type="checkbox" name="genres" value="Sport" /> Sport</label>
          <label><input type="checkbox" name="genres" value="Talk-Show" /> Talk-Show</label>
          <label><input type="checkbox" name="genres" value="Thriller" /> Thriller</label>
        </div>
        <div class="genre-column">
          <label><input type="checkbox" name="genres" value="War" /> War</label>
          <label><input type="checkbox" name="genres" value="Western" /> Western</label>
        </div>
      </div>
      <button type="submit" class="submit-btn">Submit</button>
    </form>
  </div>
</div>

  <!-- Netflix-style Top Nav -->
  <header class="top-nav" id="dynamic-menu">
    <div class="nav-left">
      <span class="logo-text">StreamFlix</span>
      <ul class="nav-menu">
        <li><a href="#"><i class="fa-solid fa-house"></i> Home</a></li>
        <li><a href="/shop"><i class="fa-solid fa-cart-shopping"></i> Shop</a></li>
      </ul>
    </div>
    <div class="nav-right">
      <a href="/coins" class="nav-icon" id="coins"><i class="fa-solid fa-coins"></i> Coins</a>
      <a href="/login" class="nav-icon" id="logout"><i class="fa-solid fa-right-from-bracket"></i> Logout</a>
    </div>
  </header>
  


  <!-- Main Banner -->
  <section class="banner" id="dynamic-banner">
    <div class="video-background">
      <iframe
        src="https://www.youtube.com/embed/6ZfuNTqbHE8?autoplay=1&mute=1&loop=1&playlist=6ZfuNTqbHE8&controls=0&modestbranding=1&iv_load_policy=3&rel=0&disablekb=1&playsinline=1&showinfo=0&fs=0"
        frameborder="0"
        allow="autoplay; fullscreen"
        allowfullscreen
       
      ></iframe>
    </div>
    <div class="banner-content" id="banner-content">
      <h1>Avengers: Infinity War</h1>
      <p>The Avengers must stop Thanos, an intergalactic warlord, from acquiring all six Infinity Stones.</p>
      <a href="/movie" class="play-button">Play</a>
      <button>More Info</button>
    </div>
  </section>

  <!-- Genre Filter (optional) -->
  <section class="genre-filter">
    <h2>Choose a Genre</h2>
    <div class="genre-buttons">
      <button class="genre-button" data-genre="all">All</button>
      <button class="genre-button" data-genre="action">Action</button>
      <button class="genre-button" data-genre="comedy">Comedy</button>
      <button class="genre-button" data-genre="drama">Drama</button>
      <button class="genre-button" data-genre="horror">Horror</button>
      <button class="genre-button" data-genre="sci-fi">Sci-Fi</button>
      <button class="genre-button" data-genre="romance">Romance</button>
    </div>
  </section>

  <!-- Section: Top 10 in Your Country -->
  <section class="movies-section">
    <h2>Trending Now</h2>
    <div class="movie-grid">
      <div class="movie-card">
        <div class="rank-number" style="color: #6a0dad;">1</div> <!-- Adjusted placement -->
        <img src="/images/FaíscMcQueen.jpg" alt="Movie 1" />
        <p class="movie-title">Movie Title 1</p>
        <p class="movie-info">Rating: 8.5 | Year: 2023</p>
      </div>
      <div class="movie-card">
        <div class="rank-number" style="color: #e50914;">2</div> <!-- Adjusted placement -->
        <img src="/images/3q01acg0mwm0dekhvkpfcxypzsu.avif" alt="Movie 2" />
        <p class="movie-title">Movie Title 2</p>
        <p class="movie-info">Rating: 7.8 | Year: 2022</p>
      </div>
      <div class="movie-card">
        <div class="rank-number" style="color: #1e90ff;">3</div> <!-- Adjusted placement -->
        <img src="/images/FaíscMcQueen.jpg" alt="Movie 3" />
        <p class="movie-title">Movie Title 3</p>
        <p class="movie-info">Rating: 9.0 | Year: 2021</p>
      </div>
      <!-- Add more movie cards with rank numbers -->
    </div>
  </section>

  <!-- Section: Top 10 Action -->
  <section class="movies-section">
    <h2>Top 10 Action</h2>
    <div class="movie-grid">
      <div class="movie-card">
        <div class="rank-number">1</div>
        <img src="/images/FaíscMcQueen.jpg" alt="Movie 1" />
        <p>Movie Title 1</p>
        <p class="movie-info">Rating: 8.5 | Year: 2023</p>
      </div>
      <div class="movie-card">
        <div class="rank-number">2</div>
        <img src="/images/3q01acg0mwm0dekhvkpfcxypzsu.avif" alt="Movie 2" />
        <p>Movie Title 2</p>
        <p class="movie-info">Rating: 7.8 | Year: 2022</p>
      </div>
      <div class="movie-card">
        <div class="rank-number">3</div>
        <img src="/images/FaíscMcQueen.jpg" alt="Movie 3" />
        <p>Movie Title 3</p>
        <p class="movie-info">Rating: 9.0 | Year: 2021</p>
      </div>
      <!-- Repeat up to 10 items -->
    </div>
  </section>

  <!-- Section: Top 10 Worldwide -->
  <section class="movies-section">
    <h2>Top 10 Comedy</h2>
    <div class="movie-grid">
      <div class="movie-card">
        <img src="/images/FaíscMcQueen.jpg" alt="Movie 3"  />
        <p>Movie Title 1</p>
        <p class="movie-info">Rating: 8.5 | Year: 2023</p>
      </div>
      <div class="movie-card">
        <img src="/images/FaíscMcQueen.jpg" alt="Movie 4"/>
        <p>Movie Title 2</p>
        <p class="movie-info">Rating: 7.8 | Year: 2022</p>
      </div>
      <div class="movie-card">
        <img src="/images/FaíscMcQueen.jpg" alt="Movie 2" />
        <p>Movie Title 3</p>
        <p class="movie-info">Rating: 9.0 | Year: 2021</p>
      </div>
      <!-- Repeat up to 10 items -->
    </div>
  </section>

  <!-- Section: Series & Movies -->
  <section class="movies-section">
    <h2>Top 10p </h2>
    <div class="movie-grid">
      <div class="movie-card">
        <img src="/images/FaíscMcQueen.jpg" alt="Series 1" />
        <p>Series Title 1</p>
        <p class="movie-info">Rating: 8.5 | Year: 2023</p>
      </div>
      <div class="movie-card">
        <img src="/images/FaíscMcQueen.jpg" alt="Series 2"  />
        <p>Series Title 2</p>
        <p class="movie-info">Rating: 7.8 | Year: 2022</p>
      </div>
      <div class="movie-card">
        <img src="/images/FaíscMcQueen.jpg" alt="Series 2"  />
        <p>Series Title 3</p>
        <p class="movie-info">Rating: 9.0 | Year: 2021</p>
      </div>
      <!-- Add more items -->
    </div>
  </section>

  
  <!-- Section: Top 10 in Your Country -->
  <section class="movies-section">
    <h2>Top 10 romance</h2>
    <div class="movie-grid">
      <div class="movie-card">
        <img src="/images/FaíscMcQueen.jpg" alt="Movie 1" />
        <p>Movie Title 1</p>
        <p class="movie-info">Rating: 8.5 | Year: 2023</p>
      </div>
      <div class="movie-card">
        <img src="/images/FaíscMcQueen.jpg" alt="Movie 2" />
        <p>Movie Title 2</p>
        <p class="movie-info">Rating: 7.8 | Year: 2022</p>
      </div>
      <div class="movie-card">
      </div>
    </div>
  </section>

  <!-- Script to dynamically extract the dominant color of the image and apply it as the border color on hover -->
  <script>
    document.querySelectorAll('.movie-card img').forEach((img) => {
      img.addEventListener('mouseenter', () => {
        const colorThief = new ColorThief();
        if (img.complete) {
          const dominantColor = colorThief.getColor(img);
          img.style.borderColor = `rgb(${dominantColor.join(',')})`; // Apply dominant color to border
        }
      });
      img.addEventListener('mouseleave', () => {
        img.style.borderColor = 'transparent'; // Reset border color
      });
    });

    // Mostrar o modal automaticamente ao carregar a página, se o questionário não foi preenchido
window.onload = function () {
  const modal = document.getElementById('questionnaire-modal');
  const questionnaireCompleted = sessionStorage.getItem('questionnaireCompleted');

  if (!questionnaireCompleted) {
    modal.style.display = 'block';
  }
};

// Fechar o modal ao clicar fora dele
window.onclick = function (event) {
  const modal = document.getElementById('questionnaire-modal');
  if (event.target === modal) {
    modal.style.display = 'none';
  }
};

// Handle form submission
document.getElementById('questionnaire-form').onsubmit = (e) => {
  e.preventDefault();
  const selectedGenres = document.querySelectorAll('input[name="genres"]:checked');
  if (selectedGenres.length < 3) {
    alert('Please select at least 3 genres.');
    return;
  }

  // Marcar o questionário como preenchido no sessionStorage
  sessionStorage.setItem('questionnaireCompleted', true);

  // Submeter o formulário
  e.target.submit();
};
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.2/color-thief.umd.js"></script>
</body>
</html>
